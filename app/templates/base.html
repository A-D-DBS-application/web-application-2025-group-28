<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Fleet 360</title>

  <!-- Bootstrap -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
    rel="stylesheet"
  >

  <!-- Your main stylesheet -->
  <link
    rel="stylesheet"
    href="{{ url_for('static', filename='css/style.css') }}?v=32"
  >
</head>
<body>
  <!-- Sidebar -->
  <aside class="sidebar">
    <div class="sidebar-top">
      <!-- Brand / Logo -->
      <div class="brand">
        <img
          src="{{ url_for('static', filename='img/logo.png.png') }}"
          alt="VT-Invest Group"
          class="brand-logo"
        >
      </div>

      <!-- Navigation -->
      <nav class="menu">
        <a
          class="menu-item {% if request.endpoint=='dashboard' %}active{% endif %}"
          href="{{ url_for('dashboard') }}"
        >
          Overzicht
        </a>

        <a
          class="menu-item {% if request.endpoint=='materiaal' %}active{% endif %}"
          href="{{ url_for('materiaal') }}"
        >
          Materiaal
        </a>

        <a
          class="menu-item {% if request.endpoint in ['werven', 'werf_detail'] %}active{% endif %}"
          href="{{ url_for('werven') }}"
        >
          Werven
        </a>

        <a
          class="menu-item {% if request.endpoint=='keuringen' %}active{% endif %}"
          href="{{ url_for('keuringen') }}"
        >
          Keuringen
        </a>

        <a
          class="menu-item {% if request.endpoint=='documenten' %}active{% endif %}"
          href="{{ url_for('documenten') }}"
        >
          Documenten
        </a>
      </nav>
    </div>

    <!-- User info bottom -->
    <div class="sidebar-bottom">
      <div class="user-card">
        <div class="avatar">
          {% if current_user and current_user.Naam %}
            {{ current_user.Naam[:2] | upper }}
          {% else %}
            VT
          {% endif %}
        </div>
        <div>
          <div class="user-name">
            {{ current_user.Naam if current_user and current_user.Naam else 'Naam Gebruiker' }}
          </div>
          <div class="user-role">
            {{ current_user.Functie if current_user and current_user.Functie else 'Functie' }}
          </div>
          <div class="mt-2">
            {% if current_user %}
              <a
                href="{{ url_for('logout') }}"
                class="small text-decoration-none"
              >
                Uitloggen
              </a>
            {% else %}
              <a
                href="{{ url_for('login') }}"
                class="small text-decoration-none me-2"
              >
                Inloggen
              </a>
              <a
                href="{{ url_for('signup') }}"
                class="small text-decoration-none"
              >
                Registreren
              </a>
            {% endif %}
          </div>
        </div>
      </div>
    </div>
  </aside>

  <!-- Main content -->
  <main class="main">
    <!-- Top bar -->
    <header class="topbar">
      <div class="app-title">Fleet 360</div>
    </header>

    <!-- Flash messages -->
    <div class="container mt-3">
      {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          {% for cat, msg in messages %}
            <div class="alert alert-{{ 'warning' if cat=='warn' else cat }} py-2 my-2">
              {{ msg }}
            </div>
          {% endfor %}
        {% endif %}
      {% endwith %}
    </div>

    <!-- Page content -->
    <section class="page">
      {% block content %}{% endblock %}
    </section>
  </main>

  <!-- Bootstrap JS -->
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
  ></script>
</body>
</html>
