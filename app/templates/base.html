<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Fleet 360</title>

  <!-- Bootstrap -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
    rel="stylesheet"
  >
  
  <!-- Bootstrap Icons -->
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
  >

  <!-- Your main stylesheet -->
  <link
    rel="stylesheet"
    href="{{ url_for('static', filename='css/style.css') }}?v=35"
  >
</head>
<body>
  {% include 'partials/navbar.html' %}

  <!-- Main content -->
  <main class="main">
    <!-- Top bar -->
    <header class="topbar">
      <div class="app-title">Fleet 360</div>
      <div class="topbar-right d-md-none">
        <!-- Mobiel logo rechtsboven (zichtbaar op kleine schermen) -->
        <img
          src="{{ url_for('static', filename='img/logo.png.png') }}"
          alt="VT-Invest Group"
          class="topbar-logo-mobile"
        >
        <!-- Mobiele account/login knop -->
        {% if current_user %}
          <button
            type="button"
            class="btn btn-link topbar-account-btn"
            data-bs-toggle="modal"
            data-bs-target="#logoutConfirmModal"
            aria-label="Uitloggen"
          >
            <i class="bi bi-box-arrow-right"></i>
          </button>
        {% else %}
          <a
            href="{{ url_for('auth.login') }}"
            class="btn btn-link topbar-account-btn"
            aria-label="Inloggen"
          >
            <i class="bi bi-box-arrow-in-right"></i>
          </a>
        {% endif %}
      </div>
    </header>

    <!-- Logout bevestigingsmodal (alleen mobiel) -->
    <div
      class="modal fade d-md-none"
      id="logoutConfirmModal"
      tabindex="-1"
      aria-labelledby="logoutConfirmModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="logoutConfirmModalLabel">Uitloggen</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Sluiten"
            ></button>
          </div>
          <div class="modal-body">
            Weet je zeker dat je wilt uitloggen?
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Annuleren
            </button>
            <a
              href="{{ url_for('auth.logout') }}"
              class="btn btn-primary"
            >
              Uitloggen
            </a>
          </div>
        </div>
      </div>
    </div>

    <!-- Flash messages -->
    <div class="container mt-3">
      {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          {% for cat, msg in messages %}
            <div class="alert alert-{{ 'warning' if cat=='warn' else cat }} py-2 my-2">
              {{ msg }}
            </div>
          {% endfor %}
        {% endif %}
      {% endwith %}
    </div>

    <!-- Page content -->
    <section class="page">
      {% block content %}{% endblock %}
    </section>
  </main>

  {% include 'partials/footer.html' %}

  <!-- Bootstrap JS -->
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
  ></script>
</body>
</html>
